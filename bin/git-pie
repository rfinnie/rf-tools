#!/bin/sh

# git-pie
# Copyright (C) 2020-2021 Ryan Finnie
# SPDX-License-Identifier: MPL-2.0

match="$1"
replace="$2"
modifier="$3"
[ -n "$modifier" ] || modifier="g"

git grep -l -z -P "${match}" | xargs -r -0 perl -CSD -Mutf8 -pi -e "sðŸ¥–${match}ðŸ¥–${replace}ðŸ¥–${modifier}"
